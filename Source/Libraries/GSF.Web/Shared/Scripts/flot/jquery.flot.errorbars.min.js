(function(r){var n={series:{points:{errorbars:null,xerr:{err:'x',show:null,asymmetric:null,upperCap:null,lowerCap:null,color:null,radius:null},yerr:{err:'y',show:null,asymmetric:null,upperCap:null,lowerCap:null,color:null,radius:null}}}};function l(e,r,l,s){if(!r.points.errorbars)return;var i=[{x:!0,number:!0,required:!0},{y:!0,number:!0,required:!0}];var n=r.points.errorbars;if(n=='x'||n=='xy'){if(r.points.xerr.asymmetric){i.push({x:!0,number:!0,required:!0});i.push({x:!0,number:!0,required:!0})}else i.push({x:!0,number:!0,required:!0})};if(n=='y'||n=='xy'){if(r.points.yerr.asymmetric){i.push({y:!0,number:!0,required:!0});i.push({y:!0,number:!0,required:!0})}else i.push({y:!0,number:!0,required:!0})};s.format=i};function s(e,r){var i=e.datapoints.points,o=null,t=null,n=null,l=null,u=e.points.xerr,p=e.points.yerr,a=e.points.errorbars;if(a=='x'||a=='xy'){if(u.asymmetric){o=i[r+2];t=i[r+3];if(a=='xy')if(p.asymmetric){n=i[r+4];l=i[r+5]}else n=i[r+4]}else{o=i[r+2];if(a=='xy')if(p.asymmetric){n=i[r+3];l=i[r+4]}else n=i[r+3]}}else if(a=='y')if(p.asymmetric){n=i[r+2];l=i[r+3]}else n=i[r+2];if(t==null)t=o;if(l==null)l=n;var s=[o,t,n,l];if(!u.show){s[0]=null;s[1]=null};if(!p.show){s[2]=null;s[3]=null};return s};function a(c,o,l){var q=l.datapoints.points,k=l.datapoints.pointsize,e=[l.xaxis,l.yaxis],w=l.points.radius,n=[l.points.xerr,l.points.yerr],S=!1;if(e[0].p2c(e[0].max)<e[0].p2c(e[0].min)){S=!0;var u=n[0].lowerCap;n[0].lowerCap=n[0].upperCap;n[0].upperCap=u};var g=!1;if(e[1].p2c(e[1].min)<e[1].p2c(e[1].max)){g=!0;var u=n[1].lowerCap;n[1].lowerCap=n[1].upperCap;n[1].upperCap=u};for(var y=0;y<l.datapoints.points.length;y+=k){var v=s(l,y);for(var r=0;r<n.length;r++){var a=[e[r].min,e[r].max];if(v[r*n.length]){var f=q[y],m=q[y+1],t=[f,m][r]+v[r*n.length+1],p=[f,m][r]-v[r*n.length];if(n[r].err=='x')if(m>e[1].max||m<e[1].min||t<e[0].min||p>e[0].max)continue;if(n[r].err=='y')if(f>e[0].max||f<e[0].min||t<e[1].min||p>e[1].max)continue;var h=!0,x=!0;if(t>a[1]){h=!1;t=a[1]};if(p<a[0]){x=!1;p=a[0]};if((n[r].err=='x'&&S)||(n[r].err=='y'&&g)){var u=p;p=t;t=u;u=x;x=h;h=u;u=a[0];a[0]=a[1];a[1]=u};f=e[0].p2c(f),m=e[1].p2c(m),t=e[r].p2c(t);p=e[r].p2c(p);a[0]=e[r].p2c(a[0]);a[1]=e[r].p2c(a[1]);var C=n[r].lineWidth?n[r].lineWidth:l.points.lineWidth,b=l.points.shadowSize!=null?l.points.shadowSize:l.shadowSize;if(C>0&&b>0){var d=b/2;o.lineWidth=d;o.strokeStyle='rgba(0,0,0,0.1)';i(o,n[r],f,m,t,p,h,x,w,d+d/2,a);o.strokeStyle='rgba(0,0,0,0.2)';i(o,n[r],f,m,t,p,h,x,w,d/2,a)};o.strokeStyle=n[r].color?n[r].color:l.color;o.lineWidth=C;i(o,n[r],f,m,t,p,h,x,w,0,a)}}}};function i(l,n,s,a,o,t,u,f,i,m,p){a+=m;o+=m;t+=m;if(n.err=='x'){if(o>s+i)e(l,[[o,a],[Math.max(s+i,p[0]),a]]);else u=!1;if(t<s-i)e(l,[[Math.min(s-i,p[1]),a],[t,a]]);else f=!1}else{if(o<a-i)e(l,[[s,o],[s,Math.min(a-i,p[0])]]);else u=!1;if(t>a+i)e(l,[[s,Math.max(a+i,p[1])],[s,t]]);else f=!1};i=n.radius!=null?n.radius:i;if(u){if(n.upperCap=='-'){if(n.err=='x')e(l,[[o,a-i],[o,a+i]]);else e(l,[[s-i,o],[s+i,o]])}else if(r.isFunction(n.upperCap)){if(n.err=='x')n.upperCap(l,o,a,i);else n.upperCap(l,s,o,i)}};if(f){if(n.lowerCap=='-'){if(n.err=='x')e(l,[[t,a-i],[t,a+i]]);else e(l,[[s-i,t],[s+i,t]])}else if(r.isFunction(n.lowerCap)){if(n.err=='x')n.lowerCap(l,t,a,i);else n.lowerCap(l,s,t,i)}}};function e(r,e){r.beginPath();r.moveTo(e[0][0],e[0][1]);for(var i=1;i<e.length;i++)r.lineTo(e[i][0],e[i][1]);r.stroke()};function o(e,i){var n=e.getPlotOffset();i.save();i.translate(n.left,n.top);r.each(e.getData(),function(n,r){if(r.points.errorbars&&(r.points.xerr.show||r.points.yerr.show))a(e,i,r)});i.restore()};function t(r){r.hooks.processRawData.push(l);r.hooks.draw.push(o)};r.plot.plugins.push({init:t,options:n,name:'errorbars',version:'1.0'})})(jQuery);