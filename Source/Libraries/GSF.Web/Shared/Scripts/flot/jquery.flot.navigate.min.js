(function(e){function i(u){var d,l=this,g=u.data||{};if(g.elem)l=u.dragTarget=g.elem,u.dragProxy=t.proxy||l,u.cursorOffsetX=g.pageX-g.left,u.cursorOffsetY=g.pageY-g.top,u.offsetX=u.pageX-u.cursorOffsetX,u.offsetY=u.pageY-u.cursorOffsetY;else if(t.dragging||g.which>0&&u.which!=g.which||e(u.target).is(g.not))return;switch(u.type){case'mousedown':return e.extend(g,e(l).offset(),{elem:l,target:u.target,pageX:u.pageX,pageY:u.pageY}),o.add(document,'mousemove mouseup',i,g),s(l,!1),t.dragging=null,!1;case!t.dragging&&'mousemove':if(r(u.pageX-g.pageX)+r(u.pageY-g.pageY)<g.distance)break;u.target=g.target,d=a(u,'dragstart',l),d!==!1&&(t.dragging=l,t.proxy=u.dragProxy=e(d||l)[0]);case'mousemove':if(t.dragging){if(d=a(u,'drag',l),n.drop&&(n.drop.allowed=d!==!1,n.drop.handler(u)),d!==!1)break;u.type='mouseup'};case'mouseup':o.remove(document,'mousemove mouseup',i),t.dragging&&(n.drop&&n.drop.handler(u),a(u,'dragend',l)),s(l,!0),t.dragging=t.proxy=g.elem=!1};return!0};function a(t,n,o){t.type=n;var i=e.event.dispatch.call(o,t);return i===!1?!1:i||t.result};function r(e){return Math.pow(e,2)};function u(){return t.dragging===!1};function s(e,t){e&&(e.unselectable=t?'off':'on',e.onselectstart=function(){return t},e.style&&(e.style.MozUserSelect=t?'':'none'))};e.fn.drag=function(e,t,n){return t&&this.bind('dragstart',e),n&&this.bind('dragend',n),e?this.bind('drag',t?t:e):this.trigger('drag')};var o=e.event,n=o.special,t=n.drag={not:':input',distance:0,which:1,dragging:!1,setup:function(n){n=e.extend({distance:t.distance,which:t.which,not:t.not},n||{}),n.distance=r(n.distance),o.add(this,'mousedown',i,n),this.attachEvent&&this.attachEvent('ondragstart',u)},teardown:function(){o.remove(this,'mousedown',i),this===t.dragging&&(t.dragging=t.proxy=!1),s(this,!0),this.detachEvent&&this.detachEvent('ondragstart',u)}};n.dragstart=n.dragend={setup:function(){},teardown:function(){}}})(jQuery);(function(e){function n(t){var n=t||window.event,r=[].slice.call(arguments,1),o=0,a=0,i=0,t=e.event.fix(n);t.type='mousewheel';n.wheelDelta&&(o=n.wheelDelta/120);n.detail&&(o=-n.detail/3);i=o;void 0!==n.axis&&n.axis===n.HORIZONTAL_AXIS&&(i=0,a=-1*o);void 0!==n.wheelDeltaY&&(i=n.wheelDeltaY/120);void 0!==n.wheelDeltaX&&(a=-1*n.wheelDeltaX/120);r.unshift(t,o,a,i);return(e.event.dispatch||e.event.handle).apply(this,r)};var t=['DOMMouseScroll','mousewheel'];if(e.event.fixHooks)for(var o=t.length;o;)e.event.fixHooks[t[--o]]=e.event.mouseHooks;e.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=t.length;e;)this.addEventListener(t[--e],n,!1);else this.onmousewheel=n},teardown:function(){if(this.removeEventListener)for(var e=t.length;e;)this.removeEventListener(t[--e],n,!1);else this.onmousewheel=null}};e.fn.extend({mousewheel:function(e){return e?this.bind('mousewheel',e):this.trigger('mousewheel')},unmousewheel:function(e){return this.unbind('mousewheel',e)}})})(jQuery);(function(e){var t={xaxis:{zoomRange:null,panRange:null},zoom:{interactive:!1,trigger:'dblclick',amount:1.5},pan:{interactive:!1,cursor:'move',frameRate:20}};function n(t){function a(e,n){var o=t.offset();o.left=e.pageX-o.left;o.top=e.pageY-o.top;if(n)t.zoomOut({center:o,zoomingOut:n});else t.zoom({center:o,zoomingOut:n})};function s(e,t){e.preventDefault();a(e,t<0);return!1};var r='default',o=0,i=0,n=null;function u(e){if(e.which!=1)return!1;var n=t.getPlaceholder().css('cursor');if(n)r=n;t.getPlaceholder().css('cursor',t.getOptions().pan.cursor);o=e.pageX;i=e.pageY};function g(e){var a=t.getOptions().pan.frameRate;if(n||!a)return;n=setTimeout(function(){t.pan({left:o-e.pageX,top:i-e.pageY});o=e.pageX;i=e.pageY;n=null},1/a*1000)};function l(e){if(n){clearTimeout(n);n=null};t.getPlaceholder().css('cursor',r);t.pan({left:o-e.pageX,top:i-e.pageY})};function d(e,t){var n=e.getOptions();if(n.zoom.interactive){t[n.zoom.trigger](a);t.mousewheel(s)};if(n.pan.interactive){t.bind('dragstart',{distance:10},u);t.bind('drag',g);t.bind('dragend',l)}};t.zoomOut=function(e){if(!e)e={};if(!e.amount)e.amount=t.getOptions().zoom.amount;e.amount=1/e.amount;t.zoom(e)};t.zoom=function(n){if(!n)n={};var o=n.center,i=n.amount||t.getOptions().zoom.amount,a=t.width(),r=t.height();if(!o)o={left:a/2,top:r/2};var s=o.left/a,u=o.top/r,g={x:{min:o.left-s*a/i,max:o.left+(1-s)*a/i},y:{min:o.top-u*r/i,max:o.top+(1-u)*r/i}};e.each(t.getAxes(),function(e,t){var s=t.options,n=g[t.direction].min,o=g[t.direction].max,r=s.zoomRange,a=s.panRange;if(r===!1)return;n=t.c2p(n);o=t.c2p(o);if(n>o){var l=n;n=o;o=l};if(a){if(a[0]!=null&&n<a[0]){n=a[0]};if(a[1]!=null&&o>a[1]){o=a[1]}};var u=o-n;if(r&&((r[0]!=null&&u<r[0]&&i>1)||(r[1]!=null&&u>r[1]&&i<1)))return;s.min=n;s.max=o});t.setupGrid();t.draw();if(!n.preventEvent)t.getPlaceholder().trigger('plotzoom',[t,n])};t.pan=function(n){var o={x:+n.left,y:+n.top};if(isNaN(o.x))o.x=0;if(isNaN(o.y))o.y=0;e.each(t.getAxes(),function(e,t){var s=t.options,a,r,i=o[t.direction];a=t.c2p(t.p2c(t.min)+i),r=t.c2p(t.p2c(t.max)+i);var n=s.panRange;if(n===!1)return;if(n){if(n[0]!=null&&n[0]>a){i=n[0]-a;a+=i;r+=i};if(n[1]!=null&&n[1]<r){i=n[1]-r;a+=i;r+=i}};s.min=a;s.max=r});t.setupGrid();t.draw();if(!n.preventEvent)t.getPlaceholder().trigger('plotpan',[t,n])};function c(e,t){t.unbind(e.getOptions().zoom.trigger,a);t.unbind('mousewheel',s);t.unbind('dragstart',u);t.unbind('drag',g);t.unbind('dragend',l);if(n)clearTimeout(n)};t.hooks.bindEvents.push(d);t.hooks.shutdown.push(c)};e.plot.plugins.push({init:n,options:t,name:'navigate',version:'1.3'})})(jQuery);