(function(i){var a={series:{images:{show:!1,alpha:1,anchor:'corner'}}};i.plot.image={};i.plot.image.loadDataImages=function(a,e,n){var t=[],o=[],r=e.series.images.show;i.each(a,function(e,a){if(!(r||a.images.show))return;if(a.data)a=a.data;i.each(a,function(i,a){if(typeof a[0]=='string'){t.push(a[0]);o.push(a)}})});i.plot.image.load(t,function(a){i.each(o,function(i,e){var n=e[0];if(a[n])e[0]=a[n]});n()})};i.plot.image.load=function(a,e){var n=a.length,t={};if(n==0)e({});i.each(a,function(a,o){var r=function(){--n;t[o]=this;if(n==0)e(t)};i('<img />').load(r).error(r).attr('src',o)})};function e(o,r,s){var x=o.getPlotOffset();if(!s.images||!s.images.show)return;var c=s.datapoints.points,v=s.datapoints.pointsize;for(var u=0;u<c.length;u+=v){var h=c[u],i=c[u+1],a=c[u+2],e=c[u+3],n=c[u+4],m=s.xaxis,f=s.yaxis,t;if(!h||h.width<=0||h.height<=0)continue;if(i>e){t=e;e=i;i=t};if(a>n){t=n;n=a;a=t};if(s.images.anchor=='center'){t=0.5*(e-i)/(h.width-1);i-=t;e+=t;t=0.5*(n-a)/(h.height-1);a-=t;n+=t};if(i==e||a==n||i>=m.max||e<=m.min||a>=f.max||n<=f.min)continue;var p=0,g=0,l=h.width,d=h.height;if(i<m.min){p+=(l-p)*(m.min-i)/(e-i);i=m.min};if(e>m.max){l+=(l-p)*(m.max-e)/(e-i);e=m.max};if(a<f.min){d+=(g-d)*(f.min-a)/(n-a);a=f.min};if(n>f.max){g+=(g-d)*(f.max-n)/(n-a);n=f.max};i=m.p2c(i);e=m.p2c(e);a=f.p2c(a);n=f.p2c(n);if(i>e){t=e;e=i;i=t};if(a>n){t=n;n=a;a=t};t=r.globalAlpha;r.globalAlpha*=s.images.alpha;r.drawImage(h,p,g,l-p,d-g,i+x.left,a+x.top,e-i,n-a);r.globalAlpha=t}};function n(i,a,e,n){if(!a.images.show)return;n.format=[{required:!0},{x:!0,number:!0,required:!0},{y:!0,number:!0,required:!0},{x:!0,number:!0,required:!0},{y:!0,number:!0,required:!0}]};function t(i){i.hooks.processRawData.push(n);i.hooks.drawSeries.push(e)};i.plot.plugins.push({init:t,options:a,name:'image',version:'1.1'})})(jQuery);